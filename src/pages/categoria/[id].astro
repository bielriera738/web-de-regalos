---
import Layout from "../../layouts/Layout.astro";
import Hero from "../../components/Hero.astro";
import ProductCard from "../../components/ProductCard.astro";
import { categories } from "../../data/categories";

export function getStaticPaths() {
    return categories.map((category) => ({
        params: { id: category.id },
        props: { category },
    }));
}

const { category } = Astro.props;
const { name, description, products } = category;

const pageTitle = `${name} | Regaloteca`;
const pageDescription = description;
---

<Layout title={pageTitle} description={pageDescription}>
    <Hero title={name} subtitle={description} />

    <section class="container mb-lg">
        <div class="intro-text">
            <h2>{name}</h2>
            <p>{description}</p>
        </div>
    </section>

    <section class="container mb-xl">
        <div class="grid-cols-4">
            {products.map((product) => <ProductCard product={product} />)}
        </div>
    </section>

    <section class="bg-light py-lg">
        <div class="container">
            <h2 class="text-center mb-md">¬øPor qu√© elegir estos regalos?</h2>
            <div class="features-grid">
                <div class="feature">
                    <h3>‚≠ê Calidad Garantizada</h3>
                    <p>
                        Seleccionamos solo productos con altas valoraciones y
                        excelentes rese√±as.
                    </p>
                </div>
                <div class="feature">
                    <h3>üöö Env√≠o R√°pido</h3>
                    <p>
                        Disfruta de la rapidez y seguridad en el env√≠o de
                        Amazon.
                    </p>
                </div>
                <div class="feature">
                    <h3>üéÅ Originalidad</h3>
                    <p>Ideas √∫nicas para que tu regalo sea memorable.</p>
                </div>
            </div>
        </div>
    </section>
</Layout>

<style>
    .intro-text {
        max-width: 800px;
        margin: 0 auto;
        text-align: center;
        font-size: 1.1rem;
        color: var(--color-text-muted);
    }

    .intro-text h2 {
        margin-bottom: var(--spacing-sm);
        color: var(--color-secondary);
    }

    .intro-text p {
        margin-bottom: var(--spacing-sm);
    }

    .bg-light {
        background-color: white;
        padding-top: var(--spacing-lg);
        padding-bottom: var(--spacing-lg);
    }

    .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: var(--spacing-md);
        text-align: center;
    }

    .feature h3 {
        color: var(--color-primary);
        margin-bottom: var(--spacing-xs);
    }
</style>
